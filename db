#!/usr/bin/env bash

set -euo pipefail

menu() {
    echo "What do you wish Mr. $USER!?"
    echo "s -> Show to database."
    echo "i -> Insert data on the database."
    echo "u -> Update to database."
    echo "q -> Exit"

    echo -n "Choise an option: "
}

main() {
    local pathDB="$HOME/projects/db"
    
    menu

    read -r todo
    case "$todo" in
        s)
            echo "Show databe"
            (
                cd $pathDB || exit 1
                sqlite3 < show.sql
            )
            ;;
        i)
            echo "Inserto data"
            (
                cd $pathDB || exit 1
                vim insert.sql
            )
            ;;
        u)
            echo "Update data"
            (
                cd $pathDB || exit 1
                vim update.sql
            )
            ;;
        q)
            echo "Leave me alone"
            exit 0
            ;;
        *)
            echo "Invalid Input"
            exit 1
            ;;
    esac
}

main

